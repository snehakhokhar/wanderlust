<% layout('layouts/boilerplate') -%>
<body>
    
    <style>
      #filters{
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap:20px;
      }
      .filter{
        text-align: center;
        margin-right: 2rem;
        margin-top: 2rem;
        opacity: 0.7;
      }
      .filter:hover{
        opacity: 1;
        cursor: pointer;
      }
      .filter p{
        font-size: 0.8rem;
      }
      .switch{
        border: 1px solid lightgrey;
        height: 3.2rem;
        padding: 1rem;
        border-radius: 1rem;
        margin-left: 6rem;
        
      }
      .taxSwitch{
        display: none;
      }
    </style>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <div id="filters">
<div class="filter ">
 <div> <i class="fa-solid fa-fire"></i></div>
  <p>Trending</p>
  </div>
  <div class="filter">
  <div><i class="fa-solid fa-bed"></i></div>
  <p>Rooms</p>
  </div>
  <div class="filter">
 <div> <i class="fa-solid fa-mountain-city"></i></div>
  <p>Iconic cities</p>
  </div>
  <div class="filter">
 <div><i class="fa-solid fa-mountain"></i></div>
  <p>Mountains</p>
  </div>
  <div class="filter">
 <div> <i class="fa-solid fa-mountain"></i></div>
  <p>Castles</p>
  </div>
 <div class="filter">
 <div><i class="fa-solid fa-person-swimming"></i></div>
  <p>Amazind Pools</p>
  </div>
  <div class="filter">
   <div><i class="fa-solid fa-cow"></i></div>
  <p>Farmes</p>
  </div>
  
  <div class="filter">
   <div><i class="fa-solid fa-snowflake"></i></div>
  <p>Arctic</p>
  </div>

  <div class="filter switch">
  <div class="form-check-reverse form-switch">
  <input class="form-check-input" 
  type="checkbox" role="switch"
  id="switchCheckDefault">
  <label class="form-check-label" for="switchCheckDefault">
    Display total after taxes</label>
</div>
  </div>
</div>
</div>
</nav>
    <div class="row row-cols-lg-3 row-cols-sm-1 row-cols-md-2 mt-3">


    <% for(let list of listings) { %>
       <% if (list._id) { %>
      <a href="/listings/<%= list._id %>" class="listing-link" >
    <div class="card col listing-card" >
  <img src="<%=list.image.url%>" class="card-img-top" alt="img">
<div class="card-img-overlay">abc</div>
  <div class="card-body">
    <p class="card-text"><b><%= list.title %></b>
    <br>
    &#8377; <%= list.price.toLocaleString("en-In") %>/night
    <i class="taxSwitch">+18% GST</i>
  </p>
  </div>
</div>
</a>
 <% } %> 
 <% } %> 
 </div>   
 <script>
  let taxSwitch=document.getElementById("switchCheckDefault");
  taxSwitch.addEventListener("click",()=>{
    let taxInfo=document.getElementsByClassName("taxSwitch");
  
    for(info of taxInfo){
      if(info.style.display!="inline"){
      info.style.display="inline";
      }else{
        info.style.display="none";
      }
    }
  });
 </script>    
</body>
